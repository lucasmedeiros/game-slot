{"ast":null,"code":"/* eslint-disable react-hooks/exhaustive-deps */\nimport { useState, useEffect } from 'react';\nimport { callAPI } from '../services/request.service';\n\nconst useGameDetails = (appId, deps = []) => {\n  const [loading, setLoading] = useState(true);\n  const [details, setDetails] = useState();\n  const [error, setError] = useState();\n  useEffect(() => {\n    const getAppDetails = async () => {\n      setLoading(true);\n      const response = await callAPI(`steam/appdetails/${appId}`, 'GET', null);\n\n      if (response.success) {\n        const {\n          data\n        } = response;\n        setDetails({\n          game: {\n            steamAppId: appId,\n            name: data.name,\n            imageUrl: data.header_image\n          },\n          developers: data.developers,\n          publishers: data.publishers,\n          description: data.short_description,\n          screenshots: data.screenshots,\n          movies: data.movies\n        });\n      } else {\n        if (response.status === 404) setError(`Couldn't find the game :(`);else setError(response.message);\n      }\n\n      setLoading(false);\n    };\n\n    getAppDetails();\n  }, [appId, ...deps]);\n  return {\n    loading,\n    details,\n    error\n  };\n};\n\nexport default useGameDetails;","map":{"version":3,"sources":["/home/lucas/Git/game-slot/src/hooks/useGameDetails.ts"],"names":["useState","useEffect","callAPI","useGameDetails","appId","deps","loading","setLoading","details","setDetails","error","setError","getAppDetails","response","success","data","game","steamAppId","name","imageUrl","header_image","developers","publishers","description","short_description","screenshots","movies","status","message"],"mappings":"AAAA;AACA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,OAAT,QAAwB,6BAAxB;;AAQA,MAAMC,cAAc,GAAG,CAACC,KAAD,EAAgBC,IAAW,GAAG,EAA9B,KAAwD;AAC7E,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBP,QAAQ,CAAU,IAAV,CAAtC;AACA,QAAM,CAACQ,OAAD,EAAUC,UAAV,IAAwBT,QAAQ,EAAtC;AACA,QAAM,CAACU,KAAD,EAAQC,QAAR,IAAoBX,QAAQ,EAAlC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMW,aAAa,GAAG,YAAY;AAChCL,MAAAA,UAAU,CAAC,IAAD,CAAV;AACA,YAAMM,QAAQ,GAAG,MAAMX,OAAO,CAAE,oBAAmBE,KAAM,EAA3B,EAA8B,KAA9B,EAAqC,IAArC,CAA9B;;AAEA,UAAIS,QAAQ,CAACC,OAAb,EAAsB;AACpB,cAAM;AAAEC,UAAAA;AAAF,YAAWF,QAAjB;AACAJ,QAAAA,UAAU,CAAC;AACTO,UAAAA,IAAI,EAAE;AACJC,YAAAA,UAAU,EAAEb,KADR;AAEJc,YAAAA,IAAI,EAAEH,IAAI,CAACG,IAFP;AAGJC,YAAAA,QAAQ,EAAEJ,IAAI,CAACK;AAHX,WADG;AAMTC,UAAAA,UAAU,EAAEN,IAAI,CAACM,UANR;AAOTC,UAAAA,UAAU,EAAEP,IAAI,CAACO,UAPR;AAQTC,UAAAA,WAAW,EAAER,IAAI,CAACS,iBART;AASTC,UAAAA,WAAW,EAAEV,IAAI,CAACU,WATT;AAUTC,UAAAA,MAAM,EAAEX,IAAI,CAACW;AAVJ,SAAD,CAAV;AAYD,OAdD,MAcO;AACL,YAAIb,QAAQ,CAACc,MAAT,KAAoB,GAAxB,EAA6BhB,QAAQ,CAAE,2BAAF,CAAR,CAA7B,KACKA,QAAQ,CAACE,QAAQ,CAACe,OAAV,CAAR;AACN;;AAEDrB,MAAAA,UAAU,CAAC,KAAD,CAAV;AACD,KAxBD;;AA0BAK,IAAAA,aAAa;AACd,GA5BQ,EA4BN,CAACR,KAAD,EAAQ,GAAGC,IAAX,CA5BM,CAAT;AA8BA,SAAO;AAAEC,IAAAA,OAAF;AAAWE,IAAAA,OAAX;AAAoBE,IAAAA;AAApB,GAAP;AACD,CApCD;;AAsCA,eAAeP,cAAf","sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\nimport { useState, useEffect } from 'react'\nimport { callAPI } from '../services/request.service'\n\ninterface ObjectGameDetails {\n  loading: boolean\n  details: IGameDetails | undefined\n  error: string | undefined\n}\n\nconst useGameDetails = (appId: string, deps: any[] = []): ObjectGameDetails => {\n  const [loading, setLoading] = useState<boolean>(true)\n  const [details, setDetails] = useState<IGameDetails>()\n  const [error, setError] = useState<string>()\n\n  useEffect(() => {\n    const getAppDetails = async () => {\n      setLoading(true)\n      const response = await callAPI(`steam/appdetails/${appId}`, 'GET', null)\n\n      if (response.success) {\n        const { data } = response\n        setDetails({\n          game: {\n            steamAppId: appId,\n            name: data.name,\n            imageUrl: data.header_image,\n          },\n          developers: data.developers,\n          publishers: data.publishers,\n          description: data.short_description,\n          screenshots: data.screenshots,\n          movies: data.movies,\n        })\n      } else {\n        if (response.status === 404) setError(`Couldn't find the game :(`)\n        else setError(response.message)\n      }\n\n      setLoading(false)\n    }\n\n    getAppDetails()\n  }, [appId, ...deps])\n\n  return { loading, details, error }\n}\n\nexport default useGameDetails\n"]},"metadata":{},"sourceType":"module"}