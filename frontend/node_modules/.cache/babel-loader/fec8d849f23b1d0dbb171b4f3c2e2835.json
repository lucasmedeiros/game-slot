{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.handleBlur = handleBlur;\nexports.handleFocus = handleFocus;\nexports.markForFocusLater = markForFocusLater;\nexports.returnFocus = returnFocus;\nexports.popWithoutFocus = popWithoutFocus;\nexports.setupScopedFocus = setupScopedFocus;\nexports.teardownScopedFocus = teardownScopedFocus;\n\nvar _tabbable = require(\"../helpers/tabbable\");\n\nvar _tabbable2 = _interopRequireDefault(_tabbable);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar focusLaterElements = [];\nvar modalElement = null;\nvar needToFocus = false;\n\nfunction handleBlur() {\n  needToFocus = true;\n}\n\nfunction handleFocus() {\n  if (needToFocus) {\n    needToFocus = false;\n\n    if (!modalElement) {\n      return;\n    } // need to see how jQuery shims document.on('focusin') so we don't need the\n    // setTimeout, firefox doesn't support focusin, if it did, we could focus\n    // the element outside of a setTimeout. Side-effect of this implementation\n    // is that the document.body gets focus, and then we focus our element right\n    // after, seems fine.\n\n\n    setTimeout(function () {\n      if (modalElement.contains(document.activeElement)) {\n        return;\n      }\n\n      var el = (0, _tabbable2.default)(modalElement)[0] || modalElement;\n      el.focus();\n    }, 0);\n  }\n}\n\nfunction markForFocusLater() {\n  focusLaterElements.push(document.activeElement);\n}\n/* eslint-disable no-console */\n\n\nfunction returnFocus() {\n  var toFocus = null;\n\n  try {\n    if (focusLaterElements.length !== 0) {\n      toFocus = focusLaterElements.pop();\n      toFocus.focus();\n    }\n\n    return;\n  } catch (e) {\n    console.warn([\"You tried to return focus to\", toFocus, \"but it is not in the DOM anymore\"].join(\" \"));\n  }\n}\n/* eslint-enable no-console */\n\n\nfunction popWithoutFocus() {\n  focusLaterElements.length > 0 && focusLaterElements.pop();\n}\n\nfunction setupScopedFocus(element) {\n  modalElement = element;\n\n  if (window.addEventListener) {\n    window.addEventListener(\"blur\", handleBlur, false);\n    document.addEventListener(\"focus\", handleFocus, true);\n  } else {\n    window.attachEvent(\"onBlur\", handleBlur);\n    document.attachEvent(\"onFocus\", handleFocus);\n  }\n}\n\nfunction teardownScopedFocus() {\n  modalElement = null;\n\n  if (window.addEventListener) {\n    window.removeEventListener(\"blur\", handleBlur);\n    document.removeEventListener(\"focus\", handleFocus);\n  } else {\n    window.detachEvent(\"onBlur\", handleBlur);\n    document.detachEvent(\"onFocus\", handleFocus);\n  }\n}","map":{"version":3,"sources":["/home/lucas/Git/game-slot/node_modules/react-modal/lib/helpers/focusManager.js"],"names":["Object","defineProperty","exports","value","handleBlur","handleFocus","markForFocusLater","returnFocus","popWithoutFocus","setupScopedFocus","teardownScopedFocus","_tabbable","require","_tabbable2","_interopRequireDefault","obj","__esModule","default","focusLaterElements","modalElement","needToFocus","setTimeout","contains","document","activeElement","el","focus","push","toFocus","length","pop","e","console","warn","join","element","window","addEventListener","attachEvent","removeEventListener","detachEvent"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.handleBlur = handleBlur;\nexports.handleFocus = handleFocus;\nexports.markForFocusLater = markForFocusLater;\nexports.returnFocus = returnFocus;\nexports.popWithoutFocus = popWithoutFocus;\nexports.setupScopedFocus = setupScopedFocus;\nexports.teardownScopedFocus = teardownScopedFocus;\n\nvar _tabbable = require(\"../helpers/tabbable\");\n\nvar _tabbable2 = _interopRequireDefault(_tabbable);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar focusLaterElements = [];\nvar modalElement = null;\nvar needToFocus = false;\n\nfunction handleBlur() {\n  needToFocus = true;\n}\n\nfunction handleFocus() {\n  if (needToFocus) {\n    needToFocus = false;\n    if (!modalElement) {\n      return;\n    }\n    // need to see how jQuery shims document.on('focusin') so we don't need the\n    // setTimeout, firefox doesn't support focusin, if it did, we could focus\n    // the element outside of a setTimeout. Side-effect of this implementation\n    // is that the document.body gets focus, and then we focus our element right\n    // after, seems fine.\n    setTimeout(function () {\n      if (modalElement.contains(document.activeElement)) {\n        return;\n      }\n      var el = (0, _tabbable2.default)(modalElement)[0] || modalElement;\n      el.focus();\n    }, 0);\n  }\n}\n\nfunction markForFocusLater() {\n  focusLaterElements.push(document.activeElement);\n}\n\n/* eslint-disable no-console */\nfunction returnFocus() {\n  var toFocus = null;\n  try {\n    if (focusLaterElements.length !== 0) {\n      toFocus = focusLaterElements.pop();\n      toFocus.focus();\n    }\n    return;\n  } catch (e) {\n    console.warn([\"You tried to return focus to\", toFocus, \"but it is not in the DOM anymore\"].join(\" \"));\n  }\n}\n/* eslint-enable no-console */\n\nfunction popWithoutFocus() {\n  focusLaterElements.length > 0 && focusLaterElements.pop();\n}\n\nfunction setupScopedFocus(element) {\n  modalElement = element;\n\n  if (window.addEventListener) {\n    window.addEventListener(\"blur\", handleBlur, false);\n    document.addEventListener(\"focus\", handleFocus, true);\n  } else {\n    window.attachEvent(\"onBlur\", handleBlur);\n    document.attachEvent(\"onFocus\", handleFocus);\n  }\n}\n\nfunction teardownScopedFocus() {\n  modalElement = null;\n\n  if (window.addEventListener) {\n    window.removeEventListener(\"blur\", handleBlur);\n    document.removeEventListener(\"focus\", handleFocus);\n  } else {\n    window.detachEvent(\"onBlur\", handleBlur);\n    document.detachEvent(\"onFocus\", handleFocus);\n  }\n}"]},"metadata":{},"sourceType":"script"}